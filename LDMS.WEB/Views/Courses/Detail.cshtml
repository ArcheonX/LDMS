
@{
    ViewData["Title"] = "Course Information";
    ViewData["MainTitle"] = "I-Manage";
    Layout = "~/Views/Shared/_Layout.cshtml";
} 
@model LDMS.ViewModels.LDMS_M_Course;
<div class="panel panel-primary" style="margin-top:-15px;width:100%;">
    <form id="frmCourseDetailEditor">
        <div class="panel-body" style="width:100%;">
            <div class="form-horizontal" style="margin-right: 25px; margin-left: -25px; margin-top: 25px">
                <div class="row form-group">
                    <div class="col-sm-1 col-md-3">
                        <h4><span class="pull-right">Course Infomation</span></h4>
                    </div>
                    <div class="col-sm-1 col-md-1 offset-7">
                        <a id="btnSavePlatform" class="btn btn-success waves-effect waves-light" style="width:90%; color:white">Save</a>
                    </div>
                    <div class="col-sm-1 col-md-1" style="margin-left:-25px">
                        <a id="btnBack" onclick="window.location.href = '@Url.Action("Index", "Platform")';" class="btn btn-danger inactive waves-effect waves-light" style="width:90%; color:white">Back</a>
                    </div>
                </div>
            </div>
        </div>

        <div style="border-width:thin; border-style:solid; margin-left:20px; display:block; margin-top: 5px; margin-bottom:5px; width:95%;display:block">
        </div>
        <div class="form-horizontal" style="margin-right: 25px; margin-left: -25px; margin-top: 25px">
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Course ID</label>
                    </span>
                </div>
                @Html.AntiForgeryToken()
                @if (Model != null)
                {
                    <input type="hidden" id="hID" name="hID" value=@Model.ID />
                }
                else
                {
                    <input type="hidden" id="hID" name="hID" value="null" />
                }

                <div class="col-sm-4 col-md-4">
                    <input type="text"
                           title="Auto Gen"
                           id="txtCourseID"
                           asp-for="CourseID"
                           value="Auto Genarate"
                           disabled="disabled"
                           style="width: 100%"
                           class="form-control input-sm" />
                </div>
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Course Name</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-4">
                    <input type="text"
                           title="Please Enter Course Name"
                           id="txtCourseName"
                           asp-for="CourseName"
                           style="width: 100%"
                           class="form-control input-sm" />
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Course Type</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-4">
                    <select id="selectCourseType"
                            name="selectCourseType"
                            asp-for="ID_CourseType"
                            title="Please Select Course Type"
                            class="form-control"
                            style="width: 100%">
                    </select>
                </div>
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Learn Method</label>
                    </span>
                </div>
                <div class="col-sm-2 col-md-4">
                    <select id="selectLearnMethod"
                            name="selectLearnMethod"
                            asp-for="ID_LearnMethod"
                            title="Please Select Learn Method"
                            class="form-control"
                            style="width: 100%">
                    </select>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Course Status</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-4">
                    <select id="selectCourseStatus"
                            name="selectCourseStatus"
                            asp-for="IsActive"
                            title="Please Select Course Status"
                            class="form-control"
                            style="width: 100%">
                        <option value="1">Active</option>
                        <option value="0">Inactive</option>
                    </select>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Objective</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-10">
                    <textarea id="txtObjective"
                              name="Objective"
                              asp-for="Objective"
                              rows="5" style="width:100%"></textarea>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Description</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-10">
                    <textarea id="txtDescription"
                              name="Description"
                              asp-for="Description"
                              rows="5" style="width:100%"></textarea>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Outline</label>
                    </span>
                </div>
                <div class="col-sm-4 col-md-10">
                    <textarea id="txtOutline"
                              name="OutLine"
                              asp-for="OutLine"
                              rows="5" style="width:100%"></textarea>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-sm-2 col-md-2">
                    <span class="pull-right">
                        <label class="LabelCaption">Refreshment</label>
                    </span>

                </div>
                <div class="col-sm-1 col-md-1">
                    <input type='checkbox'
                           name='selRefresh'
                           value='selRefresh'
                           onclick="checkedRefresh(this)"
                           id="selRefresh" /><label for="selRefresh" style="top:4px"></label>
                </div>
                <div class="col-sm-1 col-md-1">
                    <span class="pull-left">
                        <label class="LabelCaption">Period</label>
                    </span>
                </div>
                <div class="col-sm-2 col-md-1">
                    <input type="text"
                           title="Please Enter Period"
                           id="txtRefreshmentPeriod"
                           asp-for="RefreshmentPeriod"
                           style="width: 100%"
                           class="form-control input-sm"
                           disabled="disabled" />

                </div>
                <div class="col-sm-2 col-md-2">
                    <select id="selectRefreshmentUnit"
                            name="selectRefreshmentUnit"
                            asp-for="RefreshmentUnit"
                            title="Please Select RefreshmentUnit"
                            class="form-control"
                            style="width: 100%"
                            disabled="disabled">
                        <option value="0">Day</option>
                        <option value="1">Month</option>
                        <option value="2">Year</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-horizontal" style="margin-right: 25px; margin-left: -25px; margin-top: 50px">
            <div class="row form-group">
                <div class="col-sm-1 col-md-3">
                    <h4><span class="pull-right">Target Audience</span></h4>
                </div>
                <div class="col-sm-1 col-md-1 offset-7">
                </div>
                <div class="col-sm-1 col-md-1" style="margin-left:-25px">
                    <a href="#divTargetAudience" id="btnTargetAudience" onclick="VisiblePanel()" data-toggle="collapse" style="padding-left:40px;" class="fa fa-plus-square"></a>
                </div>
            </div>
        </div>
        <div style="border-width:thin; border-style:solid; margin-left:20px; display:block; margin-top: 5px; margin-bottom:5px; width:95%;display:block">
        </div>
        <div id="divTargetAudience" class="collapse">
            <div id="divEmployee" style="border-width:thin; border-style:solid; margin-left:20px; display:block; margin-top: 0px; margin-bottom:20px; width:95%;display:block">
                <div class="row form-group" style="margin-top:20px">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right">
                            <label class="LabelCaption">Target Audience</label>
                        </span>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-right">
                            <label class="LabelCaption">Total</label>
                        </span>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-right">
                            <input type="text" id="txtTotal" class="form-control" disabled="disabled" />
                        </span>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-right">
                            <label class="LabelCaption"> Remain </label>
                        </span>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-right">
                            <input type="text" id="txtRemain" class="form-control" disabled="disabled" />
                        </span>
                    </div>
                </div>

                <div class="row form-group" style="margin-top:10px">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right">
                            <label class="LabelCaption">Employee ID</label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-9">
                        <textarea id="txtEmployeeID"
                                  name="txtEmployeeID"
                                  asp-for="TargetEmployeeID"
                                  rows="5" style="width:100%"></textarea>
                    </div>
                    <div class="col-sm-1 col-md-1 pull-left">
                        <a id="btnSearchEmployee" class="btn btn-group" style="width:90%; color:midnightblue" onclick="OpenEmployee()"><img src='@Url.Content("~/assets/images/svg/icon-user.svg")' width="34" height="34" class='light-logo' alt='homepage' title="Find" /></a>
                    </div>
                </div>
            </div>
            <div id="divTarget" style="border-width:thin; border-style:solid; margin-top: -10px; margin-left:20px; display:block; width:95%; display:block">
                <div class="row form-group" style="margin-top:10px">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right" style="vertical-align:middle">
                            <label class="LabelCaption">Plant<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <select id="selectPlant"
                                name="selectPlant"
                                title="Please Enter Plant"
                                class="form-control required"
                                onchange="changePlant(this)"
                                style="width: 100%">
                        </select>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-left" style="vertical-align:middle">
                            <label class="LabelCaption">Center<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <select id="selectCenter"
                                name="selectCenter"
                                title="Please Enter Center"
                                class="form-control required"
                                onchange="changeCenter(this)"
                                style="width: 100%">
                        </select>
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right" style="vertical-align:middle">
                            <label class="LabelCaption">Division<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <select id="selectDivision"
                                name="selectDivision"
                                title="Please Enter Division"
                                class="form-control required"
                                onchange="changeDivision(this)"
                                style="width: 100%">
                        </select>
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <span class="pull-left" style="vertical-align:middle">
                            <label class="LabelCaption">Department<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <select id="selectDepartment"
                                name="selectDepartment"
                                title="Please Enter Department"
                                class="form-control required"
                                onchange="changeDepartment(this)"
                                style="width: 100%">
                        </select>
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right" style="vertical-align:middle">
                            <label class="LabelCaption">Section<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <select id="selectSection"
                                name="selectSection"
                                title="Please Enter Section"
                                class="form-control required"
                                style="width: 100%">
                        </select>
                    </div>
                </div>
            </div>
            <div id="divJob" style="border-width:thin; border-style:solid; margin-top: 5px; margin-left:20px; display:block; width:95%; padding-bottom:10px; display:block">
                <div class="row form-group" style="margin-top:10px">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right" style="vertical-align:middle">
                            <label class="LabelCaption">Job Grade<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <input type="text" id="txtJobgrade" class="form-control" />
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <a id="findJobGrade" class="btn" onclick="openModalJobGrade()"><i class="fa fa-search"></i> </a>
                    </div>

                </div>

                <div class="row form-group">
                    <div class="col-sm-2 col-md-2">
                        <span class="pull-right" style="vertical-align:middle">
                            <label class="LabelCaption">Job Title<font color="#f60b0b"></font></label>
                        </span>
                    </div>
                    <div class="col-sm-4 col-md-4">
                        <input type="text" id="txtJobTitle" class="form-control" />
                    </div>
                    <div class="col-sm-1 col-md-1">
                        <a id="findJobTitle" class="btn" onclick="openModalJobTitle()"><i class="fa fa-search"></i> </a>
                    </div>
                </div>
            </div>
            <div class="row form-group"></div><div class="row form-group"></div><div class="row form-group"></div><div class="row form-group"></div>
        </div>

        <div id="divClass" class="form-horizontal" style="display:none">
            <div class="panel-body" style="width:100%;">
                <div class="row form-group" style="margin-top:20px;">
                    <div class="col-sm-1 col-md-2 offset-10">
                        <a id="btnAddClass" class="btn btn-primary waves-effect waves-light" onclick="window.location.href = '@Url.Action("ClassDetail", "Courses")';" style="width:80%; color:white">Add Class</a>
                    </div>
                </div>
                <div class="table-responsive m-t-40">
                    <table class="display dataTable" width="100%" id="dtClassList">
                        <thead style="background-color:#1e88e5;color:#ffffff">
                            <tr>
                                <th style="text-align:center;width:100px">#</th>
                                <th style="text-align:center;width:150px">Class ID</th>
                                <th style="text-align:center;width:150px">Instructor</th>
                                <th style="text-align:center;width:150px">Learning</th>
                                <th style="text-align:center;width:150px">Register</th>
                                <th style="text-align:center;width:150px">Fee</th>
                                <th style="text-align:center;width:150px">Capacity</th>
                                <th style="text-align:center;width:150px">Venue</th>
                                <th style="text-align:center;width:150px">Status</th>
                                <th style="text-align: center;width:50px">Action</th>
                                <th style="text-align: center;width:50px">Edit</th>
                                <th style="text-align:center;width:50px">Delete</th>

                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>


    </form>


    <div class="modal" id="modSearhEmployee" tabindex="-1" role="dialog" aria-labelledby="modAlertLabel" aria-hidden="false" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" style="background-color:white;border-radius:2%;width:150%">
            <div class="modal-content" style="margin-top:100px;width:120%">
                <div class="modal-header card-header">
                    <h4 class="modal-title" id="lblMATiltle">Search Employee</h4>
                </div>
                <div class="modal-body" style="min-height:20px">
                    <div class="form-horizontal" style="margin-top:20px">
                        <div class="row form-group" style="margin-top:10px">
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right">
                                    <label class="LabelCaption">Employee ID</label>
                                </span>
                            </div>
                            <div class="col-sm-2 col-md-4">
                                <input type="text" id="txtFilterEmployeeID" class="form-control input-sm" required />
                            </div>
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right">
                                    <label class="LabelCaption">Employee Name</label>
                                </span>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <input type="text" id="txtFilterEmployeeName" class="form-control input-sm" />
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right" style="vertical-align:middle">
                                    <label class="LabelCaption">Department</label>
                                </span>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <select id="selectEmpDepartment"
                                        name="selectEmpDepartment"
                                        title="Please Enter Department"
                                        class="form-control required"
                                        onchange="changeEmpDepartment(this)"
                                        style="width: 100%">
                                </select>
                            </div>
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right" style="vertical-align:middle">
                                    <label class="LabelCaption">Section</label>
                                </span>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <select id="selectEmpSection"
                                        name="selectEmpSection"
                                        title="Please Enter Section"
                                        class="form-control required"
                                        style="width: 100%">
                                </select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right" style="vertical-align:middle">
                                    <label class="LabelCaption">Job Grade</label>
                                </span>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <select id="selectEmpJobgrade"
                                        name="selectEmpJobgrade"
                                        title="Please Enter Job Grade"
                                        class="form-control required"
                                        style="width: 100%">
                                </select>
                            </div>
                            <div class="col-sm-2 col-md-2">
                                <span class="pull-right" style="vertical-align:middle">
                                    <label class="LabelCaption">Job Title</label>
                                </span>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <select id="selectEmpJobTitle"
                                        name="selectEmpJobTitle"
                                        title="Please Enter JOb Title"
                                        class="form-control required"
                                        style="width: 100%">
                                </select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-1 col-md-2 offset-10" style="margin-left:25rem; margin-top:20px">
                                <a id="btnSearch" class="btn btn-sm btn-primary waves-effect waves-light" style="width:100%; color:white" onclick="SearchEmployee();"> Search </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="table-responsive" style="overflow-y:auto; height:300px">
                        <table class="table table-striped table-hover table-fixed" id="dtEmployee" style="padding-top:5px">
                            <thead style="background-color:#1e88e5;color:#ffffff" class="sticky-top">
                                <tr>
                                    <!--<th style="text-align:center;width:100px">No</th>-->
                                    <th style="text-align:center;width:100px">EMP ID</th>
                                    <th style="text-align:center">Emp Name</th>
                                    <th style="text-align:center">Department</th>
                                    <th style="text-align:center">Section</th>
                                    <th style="text-align:center">Job Grade</th>
                                    <th style="text-align:center">Job Title</th>
                                    <th style="text-align:center;margin-top:5px">
                                        <input type='checkbox'
                                               name='selectEmp_all'
                                               value='selectEmp_all'
                                               id="selectEmp_all"
                                               onclick="checkEmployeeAll(this)" /><label for="selectEmp_all" style="top:15px"> </label>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row form-group" style="align-items:center">
                    <div class="col-sm-1 col-md-2 offset-10" style="margin-left:20rem; margin-top:20px">
                        <a id="btnSave" class="btn btn-sm btn-success waves-effect waves-light" style="width:100%; color:white" onclick="return SelectEmployee();"> Select </a>
                    </div>
                    <div class="col-sm-1 col-md-2" style="margin-top:20px">
                        <a id="btnClose" class="btn btn-sm btn-danger inactive waves-effect waves-light" style="width:90%; color:white" onclick="ClosedEmployee()">Close</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="modJobGrade" tabindex="-1" role="dialog" aria-labelledby="modAlertLabel" aria-hidden="false" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" style="background-color:white;border-radius:2%;width:150%">
            <div class="modal-content" style="margin-top:100px;width:120%">
                <div class="modal-header card-header">
                    <h4 class="modal-title" id="lblMATiltle">Job Grade</h4>
                </div>
                <div class="panel-body">
                    <div class="table-responsive" style="overflow-y:auto; height:550px">
                        <table class="table table-striped table-hover table-fixed" id="dtJobGrade" style="padding-top:5px">
                            <thead style="background-color:#1e88e5;color:#ffffff" class="sticky-top">
                                <tr>
                                    <!--<th style="text-align:center;width:100px">No</th>-->
                                    <th style="text-align:center">Job Grade ID</th>
                                    <th style="text-align:center">Job Grade Name</th>
                                    <th style="text-align:center;margin-top:5px">
                                        <input type='checkbox'
                                               name='selectjobGrade_all'
                                               value='selectjobGrade_all'
                                               id="selectjobGrade_all"
                                               onclick="checkJobGradeAll(this)" /><label for="selectjobGrade_all" style="top:15px"> </label>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row form-group" style="align-items:center">
                    <div class="col-sm-1 col-md-2 offset-10" style="margin-left:20rem; margin-top:20px">
                        <a id="btnSelJobGrade" class="btn btn-sm btn-success waves-effect waves-light" style="width:100%; color:white" onclick="SelectJobGrade()"> Select </a>
                    </div>
                    <div class="col-sm-1 col-md-2" style="margin-top:20px">
                        <a id="btnCloseJobGrade" class="btn btn-sm btn-danger inactive waves-effect waves-light" style="width:90%; color:white" onclick="CloseModalJobGrade()">Close</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="modJobTitle" tabindex="-1" role="dialog" aria-labelledby="modAlertLabel" aria-hidden="false" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" style="background-color:white;border-radius:2%;width:150%">
            <div class="modal-content" style="margin-top:100px;width:120%">
                <div class="modal-header card-header">
                    <h4 class="modal-title" id="lblMATiltle">Job Title</h4>
                </div>
                <div class="panel-body">
                    <div class="table-responsive" style="overflow-y:auto; height:550px">
                        <table class="table table-striped table-hover table-fixed" id="dtJobTitle" style="padding-top:5px">
                            <thead style="background-color:#1e88e5;color:#ffffff" class="sticky-top">
                                <tr>
                                    <!--<th style="text-align:center;width:100px">No</th>-->
                                    <th style="text-align:center">Job Title ID</th>
                                    <th style="text-align:center">Job Title Name</th>
                                    <th style="text-align:center;margin-top:5px">
                                        <input type='checkbox'
                                               name='selectjobTitle_all'
                                               value='selectjobTitle_all'
                                               id="selectjobTitle_all"
                                               onclick="checkJobTitleAll(this)" /><label for="selectjobTitle_all" style="top:15px"> </label>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row form-group" style="align-items:center">
                    <div class="col-sm-1 col-md-2 offset-10" style="margin-left:20rem; margin-top:20px">
                        <a id="btnSelJobTitle" class="btn btn-sm btn-success waves-effect waves-light" style="width:100%; color:white" onclick="return SelectJobTitle()"> Select </a>
                    </div>
                    <div class="col-sm-1 col-md-2" style="margin-top:20px">
                        <a id="btnCloseJobTitle" class="btn btn-sm btn-danger inactive waves-effect waves-light" style="width:90%; color:white" onclick="CloseModalJobTitle()">Close</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

@section Scripts{
    <script type="text/javascript">
        $("input[type='datetime']").datepicker();
        $('select').select2({
            allowClear: true,
            closeOnSelect: true,
            theme: "bootstrap"
        });

        LoadDropdown($('#hID').val());

        function checkJobTitleAll(e) {
             if (e.checked) {
                $(".chkSingleTitle").each(function () {
                    if (!this.checked) { this.checked = true; }
                });
            }
            else {
                $(".chkSingleTitle").each(function () {
                    if (this.checked) { this.checked = false; }
                });
            } 
        }

        function checkJobGradeAll(e) {
             if (e.checked) {
                $(".chkSingleJob").each(function () {
                    if (!this.checked) { this.checked = true; }
                });
            }
            else {
                $(".chkSingleJob").each(function () {
                    if (this.checked) { this.checked = false; }
                });
            } 
        }

        function checkEmployeeAll(e) {
            if (e.checked) {
                $(".chkSingle").each(function () {
                    if (!this.checked) { this.checked = true; }
                });
            }
            else {
                $(".chkSingle").each(function () {
                    if (this.checked) { this.checked = false; }
                });
            } 
        }

        function checkedRefresh(e) {
         /*if (e.hasAttribute("disabled")) {
             $('input').attr('disabled', 'disabled');
             $('select').attr('disabled', 'disabled');
          } else {
              //alert('The disabled attribute does not exist')
             
             document.getElementById("txtRefreshmentPeriod").disabled = false;
             document.getElementById("selectRefreshmentUnit").disabled = false;
          }*/
        };

        function openModalJobTitle() {
            LoadJobTitleList();
            $('#modJobTitle').modal('toggle');
        }

        function CloseModalJobTitle() {
            $("#dtJobTitle tbody > tr").remove();
            $('#modJobTitle').modal('hide');
        }


        function openModalJobGrade() {
            LoadJobGradeList();
            $('#modJobGrade').modal('toggle');
        }

        function CloseModalJobGrade() {
            $("#dtJobGrade tbody > tr").remove();
            $('#modJobGrade').modal('hide');
        }

        function OpenEmployee() {
            LoadEmpJobGrade();
            LoadEmpJobTitle();
            $('#modSearhEmployee').modal('toggle');
        }

        function ClosedEmployee() {
            $('#modSearhEmployee').modal('hide');
            $("#dtEmployee tbody > tr").remove();
            $("#selectEmp_all").checked = false;
        }

        function changePlant(sel) {
            $('#selectDivision').empty();
            $('#selectDepartment').empty();
            $('#selectSection').empty();

            var plantid = sel.value;
            ReloadCenter($, plantid, null);
        }

        function changeCenter(sel) {
            $('#selectDepartment').empty();
            $('#selectSection').empty();

            var centerId = sel.value;
            ReloadDivision($, centerId, null);
        }

        function changeDivision(sel) {
            $('#selectSection').empty();
            var divisionId = sel.value;
            ReloadDepartment($, divisionId, null);
        }

        function changeDepartment(sel) {
            //alert(sel.value);
            var departmentId = sel.value;
            ReloadSection($, departmentId, null);
        }


        function changeEmpDepartment(sel) {
            //alert(sel.value);
            var departmentId = sel.value;
            ReloadModSection($, departmentId, null);
        }

        function LoadDropdown(ID) {
            alert("LoadDropdown " + ID);

            if (ID !== "null") {
                
                loadCenter();
                loadDivision();
                loadDepartment();
                loadSection();
            }
            else {
             
                
            }
           
            loadPlant();
            LoadCourseLearnMethod();
            LoadCourseType();
           
        }

        function loadPlant() {
            $.ajax({
                type: "GET",
                url: "/Master/GetAllPlant",
                success: function (response) {
                    var options = $('#selectPlant');
                    options.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text(this.PlantName_EN));
                    });
                    $('select[name="selectPlant"]').val(null).trigger('change');
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function loadCenter() {
            $.ajax({
                type: "GET",
                url: "/Master/GetAllCenters",
                success: function (response) {
                    var options = $('#selectCenter');
                    options.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text(this.CenterName_EN));
                    });
                    $('select[name="selectCenter"]').val(null).trigger('change');
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function loadDivision() {
            $.ajax({
                type: "GET",
                url: "/Master/GetAllDivisions",
                success: function (response) {
                    var options = $('#selectDivisions');
                    options.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text('(' + this.DivisionID + ') ' + this.DivisionName_EN));
                    });
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function loadDepartment() {
            $.ajax({
                type: "GET",
                url: "/Master/GetAllDepartments",
                success: function (response) {
                    var options = $('#selectDepartment');
                    var optionsMod = $('#selectEmpDepartment');
                    options.append($("<option />").val(null).text("Please select"));
                    optionsMod.append($("<option />").val(null).text("Please select"));

                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID_Department).text('(' + this.DepartmentID + ') ' + this.DepartmentName_EN));
                        optionsMod.append($("<option />").val(this.ID_Department).text('(' + this.DepartmentID + ') ' + this.DepartmentName_EN));
                    });
                    $('select[name="selectDepartment"]').val(null).trigger('change');
                    $('select[name="selectEmpDepartment"]').val(null).trigger('change');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        }

        function loadSection() {
            $.ajax({
                type: "GET",
                url: "/Master/GetAllSections",
                success: function (response) {
                    
                    var options = $('#selectSection');
                    var optionsMod = $('#selectEmpSection');

                    options.append($("<option />").val(null).text("Please select"));
                    optionsMod.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text('(' + this.SectionID + ') ' + this.SectionName_EN));
                        optionsMod.append($("<option />").val(this.ID).text('(' + this.SectionID + ') ' + this.SectionName_EN));

                    });
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function ReloadCenter($, plantId, callback) {
            var options = $('#selectCenter');
            options.empty();
            if (plantId && plantId != "") {
                $.ajax({
                    type: "GET",
                    url: "/Master/GetAllCenters",
                    success: function (response) {
                        options.append($("<option />").val(null).text("Please select"));
                        $.each(response.Data, function () {
                            if (this.ID_Plant == plantId) {
                                options.append($("<option />").val(this.ID).text(this.CenterName_EN));
                            }
                        });
                        //options.val($("#userDivisionId").val()).trigger('change');
                        if (callback) {
                            //callback($("#userDivisionId").val());
                        }
                    },
                    failure: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    },
                    error: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    }
                });
            }
        }

        function ReloadDivision($, centerId, callback) {
            //alert('ReloadDivision : ' + centerId);

            var options = $('#selectDivision');
            options.empty();
            if (centerId && centerId != "") {
                $.ajax({
                    type: "GET",
                    url: "/Master/GetAllDivisions",
                    success: function (response) {
                        options.append($("<option />").val(null).text("Please select"));
                        $.each(response.Data, function () {
                            if (this.ID_Center == centerId) {
                                options.append($("<option />").val(this.ID).text('(' + this.DivisionID + ') ' + this.DivisionName_EN));
                            }
                        });
                        //options.val($("#userDivisionId").val()).trigger('change');
                        if (callback) {
                            //callback($("#userDivisionId").val());
                        }
                    },
                    failure: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    },
                    error: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    }
                });
            }
        }

        function ReloadDepartment($, divisionId, callback) {
            var options = $('#selectDepartment');
            options.empty();
            if (divisionId && divisionId != "") {
                $.ajax({
                    type: "GET",
                    url: "/Master/GetAllDepartments",
                    success: function (response) {

                        options.append($("<option />").val(null).text("Please select"));
                        $.each(response.Data, function () {
                            if (this.ID_Division == divisionId) {
                                options.append($("<option />").val(this.ID_Department).text('(' + this.DepartmentID + ') ' + this.DepartmentName_EN));
                            }
                        });
                        //options.val($("#userDepartmentId").val()).trigger('change');
                        if (callback) {
                            //callback($("#userDepartmentId").val());
                        }
                    },
                    failure: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    },
                    error: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    }
                });
            }
        }

        function ReloadSection($, departmentId, callback) {
            var options = $('#selectSection');
            options.empty();
            if (departmentId && departmentId != "") {
                $.ajax({
                    type: "GET",
                    url: "/Master/GetAllSections",
                    success: function (response) {
                        options.append($("<option />").val(null).text("Please select"));
                        $.each(response.Data, function () {
                            if (this.ID_Department == departmentId) {
                                options.append($("<option />").val(this.ID).text('(' + this.SectionID + ') ' + this.SectionName_EN));
                            }
                        });
                        //options.val($("#userSectionId").val()).trigger('change');
                        if (callback) {
                            //callback($("#userSectionId").val());
                        }
                    },
                    failure: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    },
                    error: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    }
                });
            }
        }

        function ReloadModSection($, departmentId, callback) {
            var options = $('#selectEmpSection');
            options.empty();
            if (departmentId && departmentId != "") {
                $.ajax({
                    type: "GET",
                    url: "/Master/GetAllSections",
                    success: function (response) {
                        options.append($("<option />").val(null).text("Please select"));
                        $.each(response.Data, function () {
                            if (this.ID_Department == departmentId) {
                                options.append($("<option />").val(this.ID).text('(' + this.SectionID + ') ' + this.SectionName_EN));
                            }
                        });
                        //options.val($("#userSectionId").val()).trigger('change');
                        if (callback) {
                            //callback($("#userSectionId").val());
                        }
                    },
                    failure: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    },
                    error: function (response) {
                        MessageController.Error(response.responseText, "Error");
                    }
                });
            }
        }

        function LoadCourseLearnMethod() {
           $('#selectLearnMethod').empty();
                 $.ajax({
                url: "/Courses/GetAllCourseLearnMethod",
                type: "GET",
                    }).done(function (items) {
                        var options = $('#selectLearnMethod');
                        options.append($("<option />").val(null).text("--- Select All---"));
                        $.each(items, function () {
                            options.append($("<option />").val(this.ID).text(this.Course_LearnMethodName_EN));
                        });
                        $('select[name="selectLearnMethod"]').val(null);
                    });
        }

        function LoadCourseType() {
           $('#selectCourseType').empty();
                 $.ajax({
                url: "/Courses/GetAllCourseType",
                type: "GET",
            }).done(function (items) {
                var options = $('#selectCourseType');
                options.append($("<option />").val(null).text("Please select"));
                $.each(items, function () {
                    options.append($("<option />").val(this.ID).text(this.CourseTypeName_EN));
                });
                $('select[name="selectCourseType"]').val(null);
            });
        }

        function LoadEmpJobGrade() {
             $.ajax({
                type: "GET",
                url: "/Master/GetAllJobGrades",
                success: function (response) {
                    var options = $('#selectEmpJobgrade');
                    options.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text(this.JobGradeName_EN));
                    });
                    $('select[name="selectEmpJobgrade"]').val(null).trigger('change');
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function LoadEmpJobTitle() {
           $.ajax({
                type: "GET",
                url: "/Master/GetAllJobTitles",
                success: function (response) {
                    var options = $('#selectEmpJobTitle');
                    options.append($("<option />").val(null).text("Please select"));
                    $.each(response.Data, function () {
                        options.append($("<option />").val(this.ID).text(this.JobTitleName_EN));
                    });
                    $('select[name="selectEmpJobTitle"]').val(null).trigger('change');
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function VisiblePanel() {
            //alert(document.getElementById("btnTargetAudience").className);

            if (document.getElementById("btnTargetAudience").className === "fa fa-minus-square") {
                document.getElementById("btnTargetAudience").className = "fa fa-plus-square";
            }
            else {
                document.getElementById("btnTargetAudience").className = "fa fa-minus-square";
            }
        }

        function SearchEmployee() {
           // alert('SearchEmployee');
           /* var searchmodel = {
                EmployeeID: $("#txtFilterEmployeeID").val(),
                EmployeeName: $("#txtFilterEmployeeName").val(),
                DepartmentID: $("#selectEmpDepartment").val(),
                SectionID: $("#selectEmpSection").val(),
                JobGradeID: $("#selectEmpJobgrade").val(),
                JobTitleID: $("#selectEmpJobTitle").val()
             };

            alert(JSON.stringify(searchmodel));*/
            $.ajax({
                url: "/Courses/EmployeeSearch",
                type: "Post",
                data: {
                     'EmployeeID': $("#txtFilterEmployeeID").val(),
                     'EmployeeName': $("#txtFilterEmployeeName").val(),
                     'DepartmentID': $("#selectEmpDepartment").val(),
                     'SectionID':  $("#selectEmpSection").val(),
                     'JobGradeID': $("#selectEmpJobgrade").val(),
                     'JobTitleID': $("#selectEmpJobTitle").val(),
                     "__RequestVerificationToken": $('input[name=__RequestVerificationToken]').val()
                },
                success: function (e) {
                    RendorEmplooyee(e);
                }
            })
        }

        function RendorEmplooyee(e) {
            //alert('RendorEmployee');
            $("#dtEmployee tbody > tr").remove();
                for (i = 0; i < e.length; i++) {
                    var row = $("<tr />");
                    $("#dtEmployee tbody").append(row);
                    //row.append('<td style="text-align:center">' + e[i].rownumber +'</td>');
                    row.append('<td style="text-align:center">' + e[i].EmployeeID + '</td>');
                    row.append('<td style="text-align:center">' + e[i].EmployeeName + '</td>');
                    row.append('<td style="text-align:center">' + e[i].DepartmentName_EN + '</td>');
                    row.append('<td style="text-align:center">' + e[i].SectionName_EN + '</td>');
                    row.append('<td style="text-align:center">' + e[i].JobGradeName_EN + '</td>');
                    row.append('<td style="text-align:center">' + e[i].JobTitleName_EN + '</td>');
                    row.append('<input type="hidden" id="hdSelect_EmployeeID_' + i + '" name="hdSelect_EmployeeID_' + i + '" value="' + e[i].EmployeeID + '" />');
                    row.append('<td style="text-align:center"><input type="checkbox" class="chkSingle" style="text-align:center; name="selectEmployee_' + i + '" value="selectEmployee_' + i + '" id="selectEmployee_' + i + '"/><label for="selectEmployee_'+ i +'"> </label> </td>');
            }
        }

        function SelectEmployee() {
            //alert('SelectEmployee');
            var employeelist = '';
            var i = 0;
       
            while ($("#selectEmployee_" + i).val() === ("selectEmployee_" + i)) {
                if ($("#selectEmployee_" + i).prop("checked")) {

                    employeelist += $("#hdSelect_EmployeeID_" + i).val() + ',';
                }
                i++;
            }

            alert(employeelist);
            //employeelist = employeelist.remove(employeelist.length);

            $('#txtEmployeeID').val( $('#txtEmployeeID').val() + employeelist);

            ClosedEmployee();
        }

        function LoadJobGradeList() {
            alert('LoadJobGradeList');
            $.ajax({
                type: "GET",
                url: "/Master/GetAllJobGrades",
                success: function (response) {
                    alert(JSON.stringify(response));
                    RenderJobGrade(response);
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function RenderJobGrade(e) {
            $("#dtJobGrade tbody > tr").remove();
            var i = 0;
            $.each(e.Data, function () {
                    var row = $("<tr />");
                    $("#dtJobGrade tbody").append(row);
                    row.append('<td style="text-align:center">' + this.JobGradeID + '</td>');
                    row.append('<td style="text-align:center">' + this.JobGradeName_EN + '</td>');
                    row.append('<input type="hidden" id="hdSelect_JobgradeID_' + i + '" name="hdSelect_JobgradeID_' + i + '" value="' + this.JobGradeID + '" />');
                    row.append('<td style="text-align:center"><input type="checkbox" class="chkSingleJob" style="text-align:center; name="selectJobGrade_' + i + '" value="selectJobGrade_' + i + '" id="selectJobGrade_' + i + '"/><label for="selectJobGrade_'+ i +'"> </label> </td>');  
                i++;
            });    
        }

        function SelectJobGrade() {
            var jobGradelist = '';
            var i = 0;
       
            while ($("#selectJobGrade_" + i).val() === ("selectJobGrade_" + i)) {
                if ($("#selectJobGrade_" + i).prop("checked")) {

                    jobGradelist += $("#hdSelect_JobgradeID_" + i).val() + ',';
                }
                i++;
            }

            alert(jobGradelist);
            //employeelist = employeelist.remove(employeelist.length);

            $('#txtJobgrade').val( $('#txtJobgrade').val() + jobGradelist);

            CloseModalJobGrade();
        }

        function LoadJobTitleList() {
             alert('LoadJobTitleList');
            $.ajax({
                type: "GET",
                url: "/Master/GetAllJobTitles",
                success: function (response) {
                    alert(JSON.stringify(response));
                    RenderJobTitle(response);
                },
                failure: function (response) {
                    MessageController.Error(response.responseText, "Error");
                },
                error: function (response) {
                    MessageController.Error(response.responseText, "Error");
                }
            });
        }

        function RenderJobTitle(e) {
            $("#dtJobTitle tbody > tr").remove();
            var i = 0;
            $.each(e.Data, function () {
                    var row = $("<tr />");
                    $("#dtJobTitle tbody").append(row);
                    row.append('<td style="text-align:center">' + this.JobTitleID + '</td>');
                    row.append('<td style="text-align:center">' + this.JobTitleName_EN + '</td>');
                    row.append('<input type="hidden" id="hdSelect_JobtitleID_' + i + '" name="hdSelect_JobtitleID_' + i + '" value="' + this.JobTitleID + '" />');
                    row.append('<td style="text-align:center"><input type="checkbox" class="chkSingleTitle" style="text-align:center; name="selectJobTitle_' + i + '" value="selectJobTitle_' + i + '" id="selectJobTitle_' + i + '"/><label for="selectJobTitle_'+ i +'"> </label> </td>');  
                i++;
            });    
        }

        function SelectJobTitle() {

            alert('SelectJobTitle');
            var jobTitlelist = '';
            var i = 0;
       
            while ($("#selectJobTitle_" + i).val() === ("selectJobTitle_" + i)) {
                if ($("#selectJobTitle_" + i).prop("checked")) {

                    jobTitlelist += $("#hdSelect_JobtitleID_" + i).val() + ',';
                }
                i++;
            }

            alert(jobTitlelist);
            //employeelist = employeelist.remove(employeelist.length);

            $('#txtJobTitle').val( $('#txtJobTitle').val() + jobTitlelist);

            CloseModalJobTitle();
        }

        function SaveCourse() {
            $.ajax({
                    url: "/Course/InsertCourse",
                    type: "GET",
                    data: {
                        ID_Course :  $('#hID').val(),
                        CourseID : $('#txtCourseID').val(),
                        CourseName : $('#txtCourseName').val(),
                        ID_LearnMethod : $('#selectLearnMethod').val(),
                        ID_CourseType : $('#selectCourseType').val(),
                        Objective : $('#txtObjective').val(),
                        Description : $('#txtDescription').val(),
                        OutLine : $('#txtOutLine').val(),
                        IsRefreshment : $('#selRefresh').val(),
                        RefreshmentPeriod : $('#txtRefreshmentPeriod').val(),
                        RefreshmentUnit : $('#selectRefreshmentUnit').val(),
                        TargetEmployeeID : $('#txtEmployeeID').val(),
                        ID_PlantTarget : $('#selectPlant').val(),
                        ID_CenterTarget : $('#selectCenter').val(),
                        ID_DivisionTarget : $('#selectDivision').val(),
                        ID_DepartmentTarget : $('#selectDepartment').val(),
                        ID_SectionTarget : $('#selectSection').val(),
                        JobGradeTargetID : $('#txtJobgrade').val(),
                        JobTitleTargetID : $('#txtJobTitle').val(),
                        IsActive : $('#selectCourseStatus').val()      
                },
                success: function (e) {
                    //debugger;
                        alert('Save Complete');
                        $('#hID').val(e.ID);
                        $('#divClass').attr("style", "display:block");
                },
                }
            )
        }

    </script>
}
